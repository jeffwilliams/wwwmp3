<!doctype html>
<html ng-app="player">
  <head>
    <meta charset="UTF-8">
    <!-- bootstrap v3.3.0 -->
    <link rel="stylesheet" href="/js/bootstrap.min.css">

    <!-- angular v1.3.1 -->
    <script src="/js/angular.min.js"></script>
    <script src="js/module.js"></script>

    <style>
      .space {
        padding-top: 3em;
      }

      .hspace {
        padding-left: 2em;
      }

      .critlist {
        height: 13em;
        overflow: hidden;
        overflow-y: scroll;
      }
  
      .critlist_elem {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        cursor:pointer;
      }

      .vspace {
        margin-bottom: 2em;
      }

      input[type=range]{
        -webkit-appearance: none;
      }

      input[type='range'] {
        -webkit-appearance: none;
        border-radius: 5px;
        box-shadow: inset 0 0 5px #333;
        background-color: #999;
        height: 10px;
        vertical-align: middle;
      }

      input[type='range']::-moz-range-track {
        -moz-appearance: none;
        border-radius: 5px;
        box-shadow: inset 0 0 5px #333;
        background-color: #999;
        height: 10px;
      }

      input[type='range']::-webkit-slider-thumb {
        -webkit-appearance: none !important;
        border-radius: 0.8em;
        background-color: #FFF;
        box-shadow:inset 0 0 10px rgba(000,000,000,0.5);
        border: 1px solid #999;
        height: 2em;
        width: 4em;
      }

      input[type='range']::-moz-range-thumb {
        -moz-appearance: none;
        border-radius: 0.8em;
        background-color: #FFF;
        box-shadow:inset 0 0 10px rgba(000,000,000,0.5);
        border: 1px solid #999;
        height: 2em;
        width: 4em;
      }

      .bigicon {
        font-size: 2em;
      }

    </style>
    <title>MP3 Player</title>
  </head>
  <body>
    <div class="container" ng-controller="MainCtrl">
      <div class="space"></div>

      <div class="row">
        <div id="playback_pos_container" class="col-xs-12">
          <input id="playback_pos" type="range" min="0" max="{{maxPosition}}" ng-model="position" ng-change="positionMouseup()"/>
          <div class="vspace"></div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-3">
          <table>
            <tr>
              <td><img src="img/{{playPauseImg()}}" ng-click="playPauseClicked()"/></td>
              <td><img src="img/stop.png" ng-click="stopClicked()"/></td>
            <tr>
          </table>
        </div>
        <div class="col-xs-2">
        </div>
        <div class="col-xs-6">
          <div class="row">
            <div class="col-xs-12">
              <h1>{{playingProp('title')}}</h1>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12">
              by <i>{{playingProp('artist')}}</i>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-1">
          <div class="vspace"></div>
          <strong>Volume</strong>
        </div>
        <div class="col-xs-11">
          <div class="vspace"></div>
          <input type="range" min="0" max="100" ng-model="volume" ng-change="volumeMouseup()"/>
        </div>
      </div>

      <div class="space"></div>

      <div class="row">
        <div class="col-xs-3">
          <strong>Play Queue</strong>
          <span class="hspace"></span>
          <span style="cursor:pointer;" class="glyphicon glyphicon-trash" ng-click="clearPlayQueue()"></span>
        </div>
      </div>
      <div class="row critlist">
        <div class="col-xs-10" ng-repeat="s in playQueue track by $index">
          <span>{{s.title}} by <i>{{s.artist}}</i></span>
          <span class="hspace"></span>
          <span style="cursor:pointer;" class="glyphicon glyphicon-remove" ng-click="removeFromPlayQueue(s)"></span>
          <span style="cursor:pointer;" class="glyphicon glyphicon-chevron-up" ng-click="moveInPlayQueue($index,-1)"></span>
          <span style="cursor:pointer;" class="glyphicon glyphicon-chevron-down" ng-click="moveInPlayQueue($index,1)"></span>
        </div>
      </div>

      <div class="space"></div>

      <div class="row">
        <div class="col-xs-3">
          <strong>Artist</strong>
          <span class="hspace"></span>
          <span style="cursor:pointer;" class="glyphicon glyphicon-remove" ng-click="setArtistCriteria('')"></span>
        </div>
        <div class="col-xs-2">
          <strong>Album</strong>
          <span class="hspace"></span>
          <span style="cursor:pointer;" class="glyphicon glyphicon-remove" ng-click="setAlbumCriteria('')"></span>
        </div>
        <div class="col-xs-5">
          <strong>Track</strong>
          <span class="hspace"></span>
          <span style="cursor:pointer;" class="glyphicon glyphicon-remove" ng-click="setTitleCriteria('')"></span>
        </div>
        <div class="col-xs-2">
          <button class="form-control" ng-click="addSelectedToPlayQueue()">Queue</button>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-3">
          <input type="text" class="form-control" ng-model="artistCriteria" />
        </div>
        <div class="col-xs-2">
          <input type="text" class="form-control" ng-model="albumCriteria" />
        </div>
        <div class="col-xs-5">
          <input type="text" class="form-control" ng-model="titleCriteria"/>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-3">
          <div>
            <div ng-repeat="s in artists" ng-click="setArtistCriteria(s)" class="critlist_elem">
              {{s}}
            </div>
          </div>

        </div>
        <div class="col-xs-2">
          <div>
            <!--<div ng-repeat="s in pagedAlbums()" ng-click="setAlbumCriteria(s)" class="critlist_elem">-->
            <div ng-repeat="s in albums" ng-click="setAlbumCriteria(s)" class="critlist_elem">
              {{s}}
            </div>
          </div>
        </div>
        <div class="col-xs-5">
          <select ng-options="s.title for s in songs" size="10" class="form-control" ng-model="song">
          </select>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-3">
          <div class="vspace"></div>
          <div class="row">
            <div class="col-xs-6">
              <span style="cursor:pointer;" class="bigicon glyphicon glyphicon-chevron-left" ng-click="changeArtistPage(-1)"></span>
            </div>
            <div class="col-xs-1">
              <span style="cursor:pointer;" class="bigicon glyphicon glyphicon-chevron-right" ng-click="changeArtistPage(+1)"></span>
            </div>
          </div>
        </div>
        <div class="col-xs-2">
          <div class="vspace"></div>
          <span style="cursor:pointer;" class="bigicon glyphicon glyphicon-chevron-left" ng-click="changeAlbumPage(-1)"></span>
          <span class="hspace"></span>
          <span style="cursor:pointer;" class="bigicon glyphicon glyphicon-chevron-right" ng-click="changeAlbumPage(+1)"></span>
        </div>
        <div class="col-xs-5">
          <div class="vspace"></div>
          <div class="row">
            <div class="col-xs-6">
              <span style="cursor:pointer;" class="bigicon glyphicon glyphicon-chevron-left" ng-click="changeTitlePage(-1)"></span>
            </div>
            <div class="col-xs-1">
              <span style="cursor:pointer;" class="bigicon glyphicon glyphicon-chevron-right" ng-click="changeTitlePage(+1)"></span>
            </div>
          </div>
        </div>
      </div>

    </div>


    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <!-- jquery v1.11.1 -->
    <script src="/js/jquery.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
  </body>
</html>


